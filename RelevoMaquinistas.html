<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	
	<title>Relevos maquinistas</title>
	<style>
		.titulo {
	border-bottom: 3px solid #c03;
	background: #ddd;
	padding: 1px;
	text-align: center;
	height: auto;
	margin: -1em -1em 0;
}



.entradaDatos {
	
	
	display: flex;
	flex-direction: row;
	justify-content: space-around;
	flex-wrap: wrap;
	

}

.texto {
	display: flex;
	flex-direction: column;
	justify-content: space-between;
	margin: 10px;
}


.tiempoReal {
	margin: 10px;
	
}

.estadoActual {
	background: lightgray;
	border-radius: 10%;
	padding: 5px;
	width: 170px;
	height: 170px;

}
 
h4 {
	text-align: center;
	font-size: 15px;
	margin-top: 2px;
}

#reloj {
	border-bottom: 1px solid #c03;
	font-size: 20px;
	margin-top: -20px;
}

	button {
		width: 80px;
		height: 30px;
		font-size: 15px;
		border: none;
		background: lightgray;
		border-radius: 5%;
		transition: background 1s, color 1s;
	}

	#botonValidar:hover {
		background: green;
		color: #fff;
	}

	#botonBorrar:hover {
		background: red;
		color: #fff;
	}

label {
	font-size: 20px;
	text-align: center;
}

input {
	width: 200px;
	height: 20px;
	border: none;
	background: lightgray;
	margin: 5px 0;
	text-align: center;

}

input:focus, input:hover {
	outline: 1px solid #c03;
}

.cambiosMaquinistas {
	display: flex;
	flex-direction: row;
	justify-content: flex-start;
	flex-wrap: wrap;
	gap: 15px;

}

	.cambios {
		background: lightgray;
		width: 170px;
		height: 170px;
		border-radius: 10%;
		margin: 10px;
		padding: 5px;

	}

	

	h3 {
		font-size: 20px;
		text-align: center;
		border-bottom: 1px solid #c03;
	}

	p {
		text-align: center;

	}

fieldset {
	margin: 30px 0;
}

span {
	font-weight: bold;
}

footer {
	display: flex;
	justify-content: center;
}
	</style>

	<script type="text/javascript">
		var temporizador = setTimeout("reloj()", 1000);

		function reloj() {
			var maqui1 = document.getElementById("maquinista1").value;
			var maqui2 = document.getElementById("maquinista2").value;
			var maqui3 = document.getElementById("maquinista3").value;
			var maqui4 = document.getElementById("maquinista4").value;
			var maqui5 = document.getElementById("maquinista5").value;

			var tiempo = new Date();
			var horas = tiempo.getHours();
			var minutos = tiempo.getMinutes();
			var segundos = tiempo.getSeconds();

			document.getElementById("horas").innerHTML = horas;
			document.getElementById("minutos").innerHTML = minutos;
			temporizador = setTimeout("reloj()", 1000);

			var arregloHoras = new String(horas);
			

			if (arregloHoras.length == 1) {
				document.getElementById("horas").innerHTML = "0" + arregloHoras;
			}

			var arregloMinutos = new String(minutos);
			if (arregloMinutos.length == 1) {
				document.getElementById("minutos").innerHTML = "0" + arregloMinutos;
			}


			//Estado actual DC1
			if (horas == 6 || horas == 14 || horas == 22) {
				document.getElementById("dc1").innerHTML = maqui1;
			}
			 else if (horas == 7 || horas == 15 || horas == 23) {
				document.getElementById("dc1").innerHTML = maqui2;
			}
			else if (horas == 8 || horas == 9 || horas == 16 || horas == 17 || horas == 0 || horas == 1) {
				document.getElementById("dc1").innerHTML = maqui3;
			}
			else if (horas == 10 || horas == 11 || horas == 18 || horas == 19 || horas == 2 || horas == 3) {
				document.getElementById("dc1").innerHTML = maqui4;
			}
			else if (horas == 12 || horas == 13 || horas == 20 || horas == 21 || horas == 4 || horas == 5) {
				document.getElementById("dc1").innerHTML = maqui2;
			}

			//Estado actual GR1
			if (horas == 6 || horas == 7 || horas == 14 || horas == 15 || horas == 22 || horas == 23) {
				document.getElementById("gr1").innerHTML = maqui5;
			}
			else if (horas == 8 || horas == 9 || horas == 16 || horas == 17 || horas == 0 || horas == 1) {
				document.getElementById("gr1").innerHTML = maqui1;
			}
			else if (horas == 10 || horas == 11 || horas == 18 || horas == 19 || horas == 2 || horas == 3) {
				document.getElementById("gr1").innerHTML = maqui5;
			}
			else if (horas == 12 || horas == 13 || horas == 20 || horas == 21 || horas == 4 || horas == 5) {
				document.getElementById("gr1").innerHTML = maqui1;
			}

			//Estado actual DC3
			if (horas == 6 || horas == 14 || horas == 22) {
				document.getElementById("dc3").innerHTML = maqui3;
			}
			else if (horas == 7 || horas == 8 || horas == 15 || horas == 16 || horas == 23 || horas == 0) {
				document.getElementById("dc3").innerHTML = maqui4;
			}
			else if (horas == 9 || horas == 10 || horas == 17 || horas == 18 || horas == 1 || horas == 2) {
				document.getElementById("dc3").innerHTML = maqui2;
			}
			else if (horas == 11 || horas == 12 || horas == 19 || horas == 20 || horas == 3 || horas == 4) {
				document.getElementById("dc3").innerHTML = maqui3;
			}
			else if (horas == 13 || horas == 21 || horas == 5) {
				document.getElementById("dc3").innerHTML = maqui4;
			}

			//Cambios en los descargadores
			document.getElementById("ama1").innerHTML = maqui1;
			document.getElementById("ama3").innerHTML = maqui3;
			document.getElementById("ama5").innerHTML = maqui5;
	
			document.getElementById("bma2").innerHTML = maqui2;
			document.getElementById("bma4").innerHTML = maqui4;
	
			document.getElementById("cma3").innerHTML = maqui3;
			document.getElementById("cma1").innerHTML = maqui1;

			document.getElementById("dma2").innerHTML = maqui2;

			document.getElementById("ema4").innerHTML = maqui4;
			document.getElementById("ema5").innerHTML = maqui5;

			document.getElementById("fma3").innerHTML = maqui3;

			document.getElementById("gma2").innerHTML = maqui2;
			document.getElementById("gma1").innerHTML = maqui1;

			document.getElementById("hma4").innerHTML = maqui4;

			//Alarmas de cambio de maquinistas
			const alarma = new Audio("sirena.wav")

			if (horas == 6 && minutos == 0 && segundos == 0 || horas == 14 && minutos == 0 && segundos == 0 || horas == 22 && minutos == 0 && segundos == 0) {
				document.getElementById("audio").play();
				alert(`${maqui1} --> DC1 / ${maqui5} --> GR1 / ${maqui3} --> DC3`);
			}
			else if (horas == 7 && minutos == 0 && segundos == 0 || horas == 15 && minutos == 0 && segundos == 0 || horas == 23 && minutos == 0 && segundos == 0) {
				document.getElementById("audio").play();
				alert(`${maqui2} --> DC1 / ${maqui4} --> DC3`);
			}
			else if (horas == 8 && minutos == 0 && segundos == 0 || horas == 16 && minutos == 0 && segundos == 0 || horas == 0 && minutos == 0 && segundos == 0) {
				document.getElementById("audio").play();
				alert(`${maqui3} --> DC1 / ${maqui1} --> GR1`);
			}
			else if (horas == 9 && minutos == 0 && segundos == 0 || horas == 17 && minutos == 0 && segundos == 0 || horas == 1 && minutos == 0 && segundos == 0) {
				document.getElementById("audio").play();
				alert(`${maqui2} --> DC3`);
			}
			else if (horas == 10 && minutos == 0 && segundos == 0 || horas == 18 && minutos == 0 && segundos == 0 || horas == 2 && minutos == 0 && segundos == 0) {
				document.getElementById("audio").play();
				alert(`${maqui4} --> DC1 / ${maqui5} --> GR1`);
			}
			else if (horas == 11 && minutos == 0 && segundos == 0 || horas == 19 && minutos == 0 && segundos == 0 || horas == 3 && minutos == 0 && segundos == 0) {
				document.getElementById("audio").play();
				alert(`${maqui3} --> DC3`);
			}
			else if (horas == 12 && minutos == 0 && segundos == 0 || horas == 20 && minutos == 0 && segundos == 0 || horas == 4 && minutos == 0 && segundos == 0) {
				document.getElementById("audio").play();
				alert(`${maqui2} --> DC1 / ${maqui1} --> GR1`);
			}
			else if (horas == 13 && minutos == 0 && segundos == 0 || horas == 21 && minutos == 0 && segundos == 0 || horas == 5 && minutos == 0 && segundos == 0) {
				document.getElementById("audio").play();
				alert(`${maqui4} --> DC3`);
			}		
		}

	</script>
</head>
<body>

	<div class="contenedor">

		<div class="titulo">
			<h1>RELEVO MAQUINISTAS</h1>
		</div>
		
		<fieldset>
		<legend>Datos maquinistas</legend>
		<div class="entradaDatos">

				<div class="texto">
					<div>
						<label for="maquinista1">Maquinista 1</label>
						<input type="text" id="maquinista1" maxlength="9" placeholder="Empieza en DC1 (1º relevo)">
					</div>
					
					<div>
						<label for="maquinista2">Maquinista 2</label>
						<input type="text" id="maquinista2" maxlength="9" placeholder="Empieza en DC1 (2º relevo)">
					</div>	

					<div>
						<label for="maquinista3">Maquinista 3</label>
						<input type="text" id="maquinista3" maxlength="9" placeholder="Empieza en DC3 (1º relevo)">
					</div>

					<div>
						<label for="maquinista4">Maquinista 4</label>
						<input type="text" id="maquinista4" maxlength="9" placeholder="Empieza en DC3 (2º relevo)">
					</div>

					<div>
						<label for="maquinista5">Maquinista 5</label>
						<input type="text" id="maquinista5" maxlength="9" placeholder="Empieza en GR1 (1º relevo)">
					</div>
				
				</div>
		

			<div class="tiempoReal">
				<div class="estadoActual">
					<h4><span id="estadoTitulo">ESTADO ACTUAL</span></h4>
					<h4 id="reloj"><span id="horas"></span>:<span id="minutos"></span></h4>
					<p>DC1: <span id="dc1"></span></p>
					<p>GR1: <span id="gr1"></span></p>
					<p>DC3: <span id="dc3"></span></p>
				</div>
				
			</div>
		</div>
		</fieldset>


		<fieldset>
		<legend>Cambios en descargadores</legend>
		<div class="cambiosMaquinistas">

			<div class="cambios">
				<h3>6:00 / 14:00 / 22:00</h3>
				<p><span id="ama1"></span> --> DC1</p>
				<p><span id="ama5"></span> --> GR1</p>
				<p><span id="ama3"></span> --> DC3</p>
			</div>

			<div class="cambios">
				<h3>7:00 / 15:00 / 23:00</h3>
				<p><span id="bma2"></span> --> DC1</p>
				<p><span id="bma4"></span> --> DC3</p>
			</div>

			<div class="cambios">
				<h3>8:00 / 16:00 / 0:00</h3>
				<p><span id="cma3"></span> --> DC1</p>
				<p><span id="cma1"></span> --> GR1</p>
			</div>

			<div class="cambios">
				<h3>9:00 / 17:00 / 1:00</h3>
				<p><span id="dma2"></span> --> DC3</p>
			</div>

			<div class="cambios">
				<h3>10:00 / 18:00 / 2:00</h3>
				<p><span id="ema4"></span> --> DC1</p>
				<p><span id="ema5"></span> --> GR1</p>
			</div>

			<div class="cambios">
				<h3>11:00 / 19:00 / 3:00</h3>
				<p><span id="fma3"></span> --> DC3</p>
			</div>

			<div class="cambios">
				<h3>12:00 / 20:00 / 4:00</h3>
				<p><span id="gma2"></span> --> DC1</p>
				<p><span id="gma1"></span> --> GR1</p>
			</div>

			<div class="cambios">
				<h3>13:00 / 21:00 / 5:00</h3>
				<p><span id="hma4"></span> --> DC3</p>
			</div>	
		</div>
		</fieldset>

		<footer>
			<a href="RelevoMaquinistas.html"><button id="botonBorrar">BORRAR</button></a>
		</footer>
		<audio id="audio" src="sirena.wav" preload="auto"></audio>
		
		
	</div>
	









	

</body>
</html>